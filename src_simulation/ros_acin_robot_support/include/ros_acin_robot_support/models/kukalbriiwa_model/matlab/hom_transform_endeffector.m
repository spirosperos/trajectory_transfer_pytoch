function tmpreturn = hom_transform_endeffector(q, param)
  m = [0 0 0 0; 0 0 0 0; 0 0 0 0; 0 0 0 0;];
  t1 = q(5);
  t2 = cos(t1);
  t3 = q(6);
  t4 = cos(t3);
  t6 = q(4);
  t7 = cos(t6);
  t9 = sin(t6);
  t10 = sin(t3);
  t12 = t2 * t4 * t7 + t10 * t9;
  t13 = q(3);
  t14 = cos(t13);
  t16 = sin(t13);
  t17 = sin(t1);
  t18 = t17 * t16;
  t19 = t18 * t4;
  t20 = t12 * t14 - t19;
  t21 = q(2);
  t22 = cos(t21);
  t24 = sin(t21);
  t25 = t2 * t9;
  t28 = t10 * t7 - t25 * t4;
  t29 = t28 * t24;
  t30 = t20 * t22 - t29;
  t31 = q(7);
  t32 = cos(t31);
  t36 = t2 * t16;
  t37 = t14 * t17 * t7 + t36;
  t41 = t17 * t24 * t9 + t22 * t37;
  t42 = sin(t31);
  t45 = q(1);
  t46 = cos(t45);
  t51 = t14 * t17 * t4 + t12 * t16;
  t56 = -t16 * t17 * t7 + t14 * t2;
  t59 = sin(t45);
  m(1,1) = t46 * (t30 * t32 - t41 * t42) - t59 * (t32 * t51 + t42 * t56);
  t63 = -t12 * t14 + t19;
  t68 = t42 * (t22 * t63 + t29) - t32 * t41;
  t73 = t32 * t56 - t42 * t51;
  m(1,2) = t46 * t68 - t59 * t73;
  t77 = t14 * t2 * t7 - t18;
  t79 = t24 * t2;
  t88 = t10 * (t22 * t77 + t79 * t9) + (-t14 * t22 * t9 + t24 * t7) * t4;
  t92 = t14 * t17 + t36 * t7;
  t96 = -t16 * t4 * t9 + t10 * t92;
  m(1,3) = t46 * t88 - t59 * t96;
  t98 = param.d7 + param.d8;
  t99 = t10 * t98;
  t102 = t4 * t98 + param.d5 + param.d6;
  t110 = t7 * t102;
  t113 = t9 * (-t102 * t14 * t22 + t79 * t99) + t10 * t77 * t98 * t22 + (t110 + param.d3 + param.d4) * t24;
  t118 = -t102 * t16 * t9 + t92 * t99;
  m(1,4) = t113 * t46 - t118 * t59;
  m(2,1) = t32 * (t30 * t59 + t46 * t51) - t42 * (t41 * t59 - t46 * t56);
  m(2,2) = t46 * t73 + t59 * t68;
  m(2,3) = t46 * t96 + t59 * t88;
  m(2,4) = t113 * t59 + t118 * t46;
  t135 = -t28;
  m(3,1) = t32 * (t135 * t22 + t24 * t63) + (-t17 * t22 * t9 + t24 * t37) * t42;
  m(3,2) = t24 * (t20 * t42 + t32 * t37) - t22 * (t17 * t32 * t9 + t135 * t42);
  m(3,3) = t24 * (t14 * t4 * t9 - t10 * t77) + (t10 * t25 + t4 * t7) * t22;
  t163 = t10 * t2;
  m(3,4) = t22 * (t163 * t9 * t98 + param.d3 + param.d4 + t110) + t24 * (t14 * (-t163 * t7 * t98 + t102 * t9) + t99 * t18) + param.d1 + param.d2;
  m(4,1) = 0.0e0;
  m(4,2) = 0.0e0;
  m(4,3) = 0.0e0;
  m(4,4) = 0.1e1;
  tmpreturn = m;
