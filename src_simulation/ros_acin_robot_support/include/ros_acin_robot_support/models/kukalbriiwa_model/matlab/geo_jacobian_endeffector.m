function tmpreturn = geo_jacobian_endeffector(q, param)
  m = [0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0;];
  t1 = q(5);
  t2 = cos(t1);
  t3 = q(2);
  t4 = sin(t3);
  t5 = t4 * t2;
  t6 = param.d7 + param.d8;
  t7 = q(6);
  t8 = sin(t7);
  t9 = t8 * t6;
  t11 = cos(t7);
  t13 = t11 * t6 + param.d5 + param.d6;
  t14 = q(3);
  t15 = cos(t14);
  t17 = cos(t3);
  t19 = t13 * t15 * t17 - t5 * t9;
  t20 = q(4);
  t21 = sin(t20);
  t24 = cos(t20);
  t27 = sin(t14);
  t28 = sin(t1);
  t29 = t28 * t27;
  t30 = t15 * t2 * t24 - t29;
  t32 = t8 * t30 * t6 * t17;
  t33 = t24 * t13;
  t35 = (t33 + param.d3 + param.d4) * t4;
  t37 = q(1);
  t38 = sin(t37);
  t40 = cos(t37);
  t43 = t27 * t2;
  t45 = t15 * t28;
  t46 = t24 * t43 + t45;
  t48 = -t13 * t21 * t27 + t46 * t9;
  m(1,1) = t38 * (t19 * t21 - t32 - t35) - t48 * t40;
  t50 = t8 * t2;
  t52 = t21 * t6 * t50;
  t53 = t33 + t52 + param.d3 + param.d4;
  t57 = t24 * t6 * t50;
  t58 = -t13 * t21 + t57;
  t60 = t9 * t29;
  t63 = t17 * t53 - t4 * (t15 * t58 - t60);
  m(1,2) = t63 * t40;
  t64 = -t58;
  t67 = t27 * t64 - t45 * t9;
  t71 = t15 * t64 + t60;
  m(1,3) = t17 * t40 * t67 + t38 * t71;
  t73 = -t19;
  t75 = t15 * t2;
  t81 = t24 * t73 - t21 * (t17 * t75 * t9 + t13 * t4);
  t83 = t27 * t38;
  t84 = t52 + t33;
  m(1,4) = t40 * t81 + t83 * t84;
  t88 = t21 * t4;
  t92 = t28 * (t15 * t17 * t24 + t88) + t17 * t43;
  t96 = -t24 * t27 * t28 + t75;
  m(1,5) = -t6 * t8 * (t38 * t96 + t40 * t92);
  t103 = t17 * t30 + t21 * t5;
  t108 = t15 * t17 * t21 - t24 * t4;
  t113 = t21 * t27;
  m(1,6) = t6 * (t40 * (t103 * t11 + t108 * t8) - (t11 * t46 + t113 * t8) * t38);
  m(1,7) = 0.0e0;
  m(2,1) = t40 * (t21 * t73 + t32 + t35) - t48 * t38;
  m(2,2) = t63 * t38;
  m(2,3) = t40 * (t15 * (t21 * (-t11 * t6 - param.d5 - param.d6) + t57) - t60) + t17 * t67 * t38;
  m(2,4) = -t27 * t40 * t84 + t38 * t81;
  m(2,5) = -t6 * (t38 * t92 - t40 * t96) * t8;
  t145 = t40 * t113;
  m(2,6) = t6 * (t11 * (t103 * t38 + t40 * t46) + (t108 * t38 + t145) * t8);
  m(2,7) = 0.0e0;
  m(3,1) = 0.0e0;
  m(3,2) = t17 * t71 - t4 * t53;
  m(3,3) = -t4 * t67;
  m(3,4) = t15 * t4 * t84 + t17 * t58;
  t155 = t15 * t4;
  t157 = t21 * t17;
  t160 = t27 * t4;
  m(3,5) = (t28 * (t155 * t24 - t157) + t2 * t160) * t9;
  t169 = t155 * t21 + t17 * t24;
  m(3,6) = -t6 * (t11 * (-t157 * t2 + t30 * t4) + t8 * t169);
  m(3,7) = 0.0e0;
  m(4,1) = 0.0e0;
  m(4,2) = -t38;
  m(4,3) = t4 * t40;
  m(4,4) = t17 * t27 * t40 + t15 * t38;
  t176 = -t108;
  m(4,5) = t176 * t40 + t21 * t83;
  t181 = -t15 * t24 * t28 - t43;
  t184 = t17 * t181 - t28 * t88;
  t186 = -t96;
  m(4,6) = t184 * t40 + t186 * t38;
  t191 = t2 * t24 * t8 - t11 * t21;
  t193 = t8 * t29;
  t199 = t2 * t21 * t8 + t11 * t24;
  t201 = t17 * (t15 * t191 - t193) + t199 * t4;
  t204 = -t191;
  t206 = t204 * t27 - t45 * t8;
  m(4,7) = t201 * t40 + t206 * t38;
  m(5,1) = 0.0e0;
  m(5,2) = t40;
  m(5,3) = t4 * t38;
  m(5,4) = t17 * t27 * t38 - t15 * m(5,2);
  m(5,5) = t176 * t38 - t145;
  m(5,6) = t184 * t38 - t186 * m(5,2);
  m(5,7) = t201 * t38 - t206 * m(5,2);
  m(6,1) = 0.1e1;
  m(6,2) = 0.0e0;
  m(6,3) = t17;
  m(6,4) = -t160;
  m(6,5) = t169;
  m(6,6) = -t21 * t28 * m(6,3) - t181 * t4;
  m(6,7) = t4 * (t15 * t204 + t193) + t199 * m(6,3);
  tmpreturn = m;
