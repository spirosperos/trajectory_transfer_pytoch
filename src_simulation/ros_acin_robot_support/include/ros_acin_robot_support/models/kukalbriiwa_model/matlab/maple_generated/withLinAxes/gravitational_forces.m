function tmpreturn = gravitational_forces(q, param)
  m = [0 0 0 0 0 0 0 0 0;];
  t3 = sin(param.gamma_base);
  t4 = cos(param.beta_base);
  m(1,1) = t4 * t3 * param.g * (-param.m7 - param.m6 - param.m5 - param.m4 - param.m3 - param.m2 - param.m1 - param.ma - param.mb);
  t8 = sin(param.beta_base);
  m(1,2) = t8 * (param.m7 + param.m6 + param.m5 + param.m4 + param.m3 + param.m2 + param.m1 + param.mb) * param.g;
  t9 = param.sp7x * param.m7;
  t10 = q(9);
  t11 = sin(t10);
  t12 = t11 * t9;
  t13 = param.sp7y * param.m7;
  t14 = cos(t10);
  t15 = t14 * t13;
  t18 = param.m5 * param.sp5y - param.sp6z * param.m6 - t12 - t15;
  t19 = q(7);
  t20 = cos(t19);
  t21 = t20 * t18;
  t22 = t14 * t9;
  t23 = t11 * t13;
  t25 = param.m6 * param.sp6x - t22 + t23;
  t26 = q(8);
  t27 = cos(t26);
  t28 = t27 * t25;
  t29 = -param.sp7z - param.d7;
  t31 = param.m6 * param.sp6y;
  t32 = param.m7 * t29 - t31;
  t33 = sin(t26);
  t34 = t33 * t32;
  t35 = param.m5 * param.sp5x;
  t36 = t28 + t34 + t35;
  t37 = sin(t19);
  t38 = t37 * t36;
  t39 = param.m3 * param.sp3y;
  t40 = param.m4 * param.sp4z;
  t41 = t21 + t38 - t39 + t40;
  t42 = q(5);
  t43 = cos(t42);
  t47 = -param.m7 * t29 + t31;
  t48 = t27 * t47;
  t49 = t33 * t25;
  t50 = param.d5 + param.d6;
  t53 = param.d5 + param.sp5z;
  t55 = param.m4 * param.sp4y;
  t56 = param.m5 * t53 + param.m6 * t50 + param.m7 * t50 + t48 + t49 + t55;
  t57 = sin(t42);
  t58 = t57 * t56;
  t59 = q(6);
  t60 = sin(t59);
  t61 = t60 * t58;
  t62 = -t25;
  t63 = t27 * t62;
  t64 = t33 * t47;
  t65 = t63 + t64 - t35;
  t66 = t20 * t65;
  t67 = t37 * t18;
  t68 = param.m4 * param.sp4x;
  t69 = t66 + t67 + t68;
  t70 = t69 * t57;
  t71 = cos(t59);
  t72 = t71 * t70;
  t74 = param.sp3x * param.m3 * t57;
  t75 = param.m2 * param.sp2z;
  t76 = param.m1 * param.sp1y;
  t78 = q(3);
  t79 = sin(t78);
  t81 = t60 * t56;
  t82 = t20 * t36;
  t83 = -t18;
  t84 = t37 * t83;
  t85 = t82 + t84 - t68;
  t86 = t71 * t85;
  t88 = -param.m3 * param.sp3x + t81 + t86;
  t90 = t20 * t83;
  t91 = t37 * t65;
  t92 = t90 + t91 + t39 - t40;
  t93 = t57 * t92;
  t95 = param.m2 * param.sp2x + t43 * t88 + t93;
  t96 = q(4);
  t97 = cos(t96);
  t98 = t97 * t95;
  t99 = t60 * t85;
  t100 = t27 * t32;
  t101 = t33 * t62;
  t102 = -t50;
  t107 = -param.m5 * t53 + param.m6 * t102 + param.m7 * t102 + t100 + t101 - t55;
  t109 = -param.d3 - param.d4;
  t114 = -param.sp3z - param.d3;
  t116 = param.m2 * param.sp2y;
  t117 = param.m3 * t114 + param.m4 * t109 + param.m5 * t109 + param.m6 * t109 + param.m7 * t109 + t107 * t71 - t116 + t99;
  t118 = sin(t96);
  t121 = -param.sp1x * param.m1 + t117 * t118 + t98;
  t122 = cos(t78);
  t128 = t43 * t92;
  m(1,3) = (t4 * t3 * (-t79 * (t41 * t43 + t61 - t72 - t74 - t75 - t76) + t122 * t121) + t8 * (-t79 * t121 + t122 * (t128 - t61 + t72 + t74 + t75 + t76))) * param.g;
  t136 = t117 * t97 - t118 * t95;
  t139 = cos(param.gamma_base);
  t141 = t71 * t56;
  t142 = -t109;
  m(1,4) = (t4 * (t3 * t79 * t136 + (-t118 * (-param.m3 * t114 + param.m4 * t142 + param.m5 * t142 + param.m6 * t142 + param.m7 * t142 + t60 * t69 + t116 + t141) + t98) * t139) + t8 * t122 * t136) * param.g;
  t160 = t60 * t43 * t56;
  t162 = t71 * t69 * t43;
  t164 = param.sp3x * param.m3 * t43;
  t168 = -t57 * t88 + t128;
  t169 = t97 * t168;
  m(1,5) = (t4 * (t3 * (t122 * (-t41 * t57 + t160 - t162 - t164) + t79 * t169) + t118 * t168 * t139) + t8 * (t122 * t169 + t79 * (-t93 - t160 + t162 + t164))) * param.g;
  t185 = t58 * t71 + t60 * t70;
  t188 = t43 * (t141 - t99);
  t193 = t97 * t188 + t118 * (-t107 * t60 + t86);
  m(1,6) = (t4 * (t3 * (t122 * t185 + t193 * t79) + (t97 * (t69 * t71 - t81) + t118 * t188) * t139) + t8 * (t122 * t193 - t185 * t79)) * param.g;
  t213 = -t91 + t21;
  t215 = t71 * t213 * t57;
  t218 = -t38 + t90;
  t221 = -t84 + t66;
  t223 = t218 * t43 * t71 + t221 * t57;
  t227 = t118 * t218 * t60 + t223 * t97;
  m(1,7) = (t4 * (t3 * (t122 * (t43 * (-t67 + t82) - t215) + t79 * t227) + (t213 * t60 * t97 + t118 * t223) * t139) + t8 * (t122 * t227 + t79 * (t221 * t43 + t215))) * param.g;
  t245 = -t49 + t100;
  t248 = -t64 + t28;
  t250 = t60 * t57 * t248;
  t251 = -t101 + t48;
  t254 = t71 * t20 * t251 * t57;
  t258 = t20 * t245;
  t262 = t37 * t251;
  t264 = t43 * (t248 * t60 + t258 * t71) + t57 * t262;
  t271 = t97 * t264 + t118 * (t60 * t258 + t71 * (-t34 + t63));
  m(1,8) = (t4 * (t3 * (t122 * (t245 * t37 * t43 + t250 - t254) + t79 * t271) + (t97 * (t20 * t251 * t60 + t248 * t71) + t118 * t264) * t139) + t8 * (t122 * t271 + t79 * (t262 * t43 - t250 + t254))) * param.g;
  t292 = -t22 + t23;
  t294 = t12 + t15;
  t295 = t27 * t294;
  t299 = t33 * t294;
  t301 = t60 * t57 * t299;
  t302 = -t294;
  t303 = t27 * t302;
  t306 = t20 * t303 + t292 * t37;
  t308 = t71 * t306 * t57;
  t313 = -t292;
  t315 = t20 * t295 + t313 * t37;
  t321 = t20 * t313 + t303 * t37;
  t323 = t43 * (t299 * t60 + t315 * t71) + t57 * t321;
  t330 = t97 * t323 + t118 * (t302 * t33 * t71 + t315 * t60);
  m(1,9) = (t4 * (t3 * (t122 * (t43 * (t20 * t292 + t295 * t37) + t301 - t308) + t79 * t330) + (t97 * (t299 * t71 + t306 * t60) + t118 * t323) * t139) + t8 * (t122 * t330 + t79 * (t321 * t43 - t301 + t308))) * param.g;
  tmpreturn = m';
