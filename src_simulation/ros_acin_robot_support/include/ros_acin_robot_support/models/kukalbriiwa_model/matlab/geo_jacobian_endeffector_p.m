function tmpreturn = geo_jacobian_endeffector_p(q, q_p, param)
  m = [0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0;];
  t1 = param.d7 + param.d8;
  t2 = q(5);
  t3 = cos(t2);
  t4 = q_p(4);
  t5 = t4 * t3;
  t6 = q_p(6);
  t7 = t5 - t6;
  t8 = q(3);
  t9 = cos(t8);
  t10 = t9 * t7;
  t11 = q_p(2);
  t12 = t3 * t11;
  t14 = q(4);
  t15 = sin(t14);
  t17 = sin(t2);
  t18 = cos(t14);
  t19 = q_p(5);
  t20 = t19 * t18;
  t21 = q_p(3);
  t22 = t20 + t21;
  t23 = t22 * t17;
  t24 = t9 * t23;
  t25 = sin(t8);
  t26 = t25 * t3;
  t27 = t18 * t21;
  t28 = t27 + t19;
  t29 = t28 * t26;
  t31 = q(2);
  t32 = cos(t31);
  t34 = t17 * t19;
  t35 = sin(t31);
  t36 = t15 * t35;
  t39 = t35 * t11;
  t40 = t39 * t3 * t18;
  t41 = q_p(1);
  t42 = t41 * t17;
  t43 = t40 + t42;
  t44 = t9 * t43;
  t45 = t3 * t41;
  t50 = t17 * t25;
  t54 = q(6);
  t55 = sin(t54);
  t56 = t55 * (t32 * (t15 * (t10 - t12) + t24 + t29) + t36 * t34 + t44 + t18 * (t25 * t45 - t35 * t7) - t39 * t50) * t1;
  t58 = cos(t54);
  t60 = t1 * t58 + param.d5 + param.d6;
  t61 = t15 * t60;
  t62 = t61 * t25 * t21;
  t63 = t58 * t6;
  t64 = t3 * t1;
  t65 = t63 * t64;
  t66 = t4 * t60;
  t67 = -t65 + t66;
  t68 = t18 * t67;
  t69 = t9 * t68;
  t70 = t60 * t11;
  t71 = t18 * t70;
  t72 = t25 * t6;
  t73 = t1 * t17;
  t75 = t58 * t73 * t72;
  t76 = param.d3 + param.d4;
  t77 = t11 * t76;
  t78 = -t62 + t69 - t71 + t75 - t77;
  t80 = t9 * t60;
  t81 = t80 * t39;
  t82 = t41 * t60;
  t86 = (t25 * t82 - t35 * t67 + t81) * t15;
  t88 = q(1);
  t89 = sin(t88);
  t91 = cos(t88);
  t92 = t18 * t9;
  t94 = t3 * t92 - t50;
  t96 = t32 * t94 * t41;
  t97 = -t7;
  t102 = t28 * t3;
  t103 = t9 * t102;
  t108 = t9 * t41;
  t111 = t21 * t60;
  t112 = t15 * t9;
  t116 = -t67;
  t121 = t35 * t41;
  t123 = t55 * (t96 + t15 * (t25 * t97 + t35 * t45) + t103 - t22 * t50) * t1 - t32 * t108 * t61 - t112 * t111 + t9 * t73 * t63 + t18 * (t116 * t25 + t35 * t82) + t76 * t121;
  m(1,1) = t89 * (t32 * t78 + t56 - t86) - t123 * t91;
  t126 = t9 * t97 + t12;
  t131 = -t55 * (t126 * t15 - t24 - t29) * t1 - t62 + t69 - t71 + t75 - t77;
  t134 = t12 * t92;
  t135 = t18 * t97;
  t136 = t25 * t11;
  t141 = t9 * t70;
  t144 = t55 * (-t136 * t17 + t15 * t34 + t134 + t135) * t1 - t15 * (t141 + t65 - t66);
  t146 = t131 * t35 - t144 * t32;
  t148 = t1 * t55;
  t154 = t55 * t3;
  t159 = t35 * (-t148 * t94 + t15 * t80) + t32 * (t1 * t15 * t154 + t18 * t60 + param.d3 + param.d4);
  m(1,2) = -t159 * t41 * t89 + t146 * t91;
  t162 = t15 * t7;
  t173 = t18 * t41;
  t179 = t15 * t111;
  t180 = t73 * t63;
  t186 = t25 * (t55 * (t32 * (t162 + t23) + t40 + t42) * t1 + t32 * t68 - t61 * t39) + (-t55 * (t102 * t32 - t17 * t39 + t173 * t3) * t1 + t32 * (t179 - t180) + t15 * t82) * t9;
  t188 = t32 * t41;
  t193 = t32 * t15;
  t203 = t25 * (-t55 * (t18 * t188 + t19 + t27) * t64 + t193 * t82 + t179 - t180) - t9 * (t55 * (t17 * t188 + t162 + t23) * t1 + t68);
  m(1,3) = t186 * t91 - t203 * t89;
  t211 = t32 * t25;
  t216 = t35 * t4;
  t217 = t25 * t41;
  t218 = -t216 + t217;
  t222 = t21 * t3;
  t227 = t11 * t9;
  t230 = t3 * t218;
  t231 = t35 * t6;
  t240 = t18 * (t55 * (-t17 * t19 * t35 + t126 * t32) * t1 + t211 * t111 + t81 + t3 * t1 * t35 * t63 + t60 * t218) - t15 * (-t55 * (t32 * (t222 * t25 + t34 * t9) + t35 * t3 * t227 + t230 + t231) * t1 + (t116 * t9 + t70) * t32);
  t242 = t4 * t25;
  t243 = t121 - t242;
  t248 = t188 + t21;
  t249 = t9 * t248;
  t253 = t9 * t3;
  t257 = t19 * t25;
  t262 = t1 * t25;
  t268 = t18 * (-t55 * (t243 * t3 + t72) * t1 + t60 * t249) + t15 * (t55 * (t21 * t3 * t9 - t17 * t257 + t188 * t253) * t1 + t3 * t262 * t63 + t60 * t243);
  m(1,4) = t240 * t91 + t268 * t89;
  t271 = t25 * t18;
  t272 = t21 * t271;
  t273 = t15 * t11;
  t274 = -t112 * t4 - t257 - t272 + t273;
  t276 = t9 * t39;
  t278 = (t276 - t216 + t217) * t18;
  t282 = t32 * t22 * t9;
  t284 = -t15 * t19 + t136;
  t288 = t17 * (t274 * t32 - t278) - (t284 * t35 - t108 - t282) * t3;
  t290 = t9 * t32;
  t291 = t173 * t290;
  t292 = t9 * t28;
  t294 = -t243 * t15;
  t298 = (t20 + t188 + t21) * t26;
  t299 = t17 * (t291 + t292 - t294) + t298;
  t304 = t18 * t290 + t36;
  t306 = t32 * t26;
  t310 = -t17 * t271 + t253;
  m(1,5) = -t1 * (t55 * (t288 * t91 - t299 * t89) + (t91 * (t17 * t304 + t306) + t310 * t89) * t63);
  t316 = t17 * t18;
  t317 = t19 * t316;
  t320 = t15 * t6;
  t321 = t17 * t21;
  t322 = t15 * t3 * t4 + t317 - t320 + t321;
  t323 = t9 * t322;
  t324 = -t272 + t273 - t257;
  t330 = t17 * t35;
  t332 = t32 * (-t3 * t324 + t323) + t44 + t18 * (t230 + t231) - t284 * t330;
  t334 = t3 * t6;
  t335 = -t334 + t4;
  t337 = t9 * t335 * t18;
  t338 = t18 * t11;
  t341 = t15 * t21 - t17 * t6;
  t346 = t334 * t35 - t216 + t217 + t276;
  t348 = t32 * (t25 * t341 - t337 + t338) + t346 * t15;
  t352 = t271 * t34;
  t353 = t3 * t294;
  t354 = t321 - t320;
  t356 = -t25 * t354 + t103 - t352 - t353 + t96;
  t363 = t188 * t112 + t9 * t341 + (-t25 * t334 - t121 + t242) * t18;
  m(1,6) = -t1 * (t91 * (t332 * t58 + t348 * t55) + t89 * (t356 * t58 + t363 * t55));
  m(1,7) = 0.0e0;
  m(2,1) = t91 * (-t32 * t78 - t56 + t86) - t123 * t89;
  t375 = t91 * t41;
  m(2,2) = t146 * t89 + t159 * t375;
  m(2,3) = t186 * t89 + t203 * t91;
  m(2,4) = t240 * t89 - t268 * t91;
  m(2,5) = -t1 * (t55 * (t288 * t89 + t299 * t91) - t6 * (t89 * (-t17 * t304 - t306) + t310 * t91) * t58);
  m(2,6) = -t1 * (t58 * (t332 * t89 - t356 * t91) + t55 * (t348 * t89 - t363 * t91));
  m(2,7) = 0.0e0;
  m(3,1) = 0.0e0;
  m(3,2) = t131 * t32 + t144 * t35;
  m(3,3) = t35 * (t25 * (-t55 * (t317 + t162 + t321) * t1 - t68) - t9 * (-t28 * t55 * t64 + t179 - t180)) - t32 * (t25 * (-t1 * t154 * t18 + t61) - t148 * t17 * t9) * t11;
  t433 = t148 * t34;
  m(3,4) = t35 * (t18 * (-t21 * t25 * t60 + t10 * t148 - t12 * t148) + t15 * (t9 * (-t433 + t65 - t66) - t55 * t262 * t222 + t70)) + (t18 * (t141 - t433 + t65 - t66) + (t227 * t3 - t5 + t6) * t1 * t55 * t15) * t32;
  t451 = -t274;
  t453 = t22 * t253;
  t456 = -t227 + t4;
  t459 = -t284;
  m(3,5) = -t1 * (t55 * (t35 * (t17 * t451 - t453) + t32 * (t17 * t18 * t456 + t3 * t459)) + t6 * (t35 * (-t316 * t9 - t26) + t17 * t193) * t58);
  t475 = -t3 * t324;
  t476 = t323 + t475;
  t485 = -t25 * t341;
  t486 = -t337 + t338 - t485;
  t488 = -t334 - t227 + t4;
  m(3,6) = t1 * (t58 * (t35 * t476 + (-t17 * t459 + t18 * t7 - t134) * t32) + (t193 * t488 + t35 * t486) * t55);
  m(3,7) = 0.0e0;
  m(4,1) = 0.0e0;
  m(4,2) = -t375;
  t493 = t89 * t41;
  m(4,3) = t11 * t32 * t91 - t35 * t493;
  t502 = -t11 * t25 * t35 + (t21 * t32 + t41) * t9;
  m(4,4) = -t248 * t25 * t89 + t502 * t91;
  t511 = t4 * t9 - t11;
  t513 = t15 * (t211 * t21 - t216 + t217 + t276) - t511 * t18 * t32;
  t517 = t15 * t249 - t18 * t243;
  m(4,5) = t513 * t91 + t517 * t89;
  t525 = t17 * (t32 * t451 + t278) - t3 * (t35 * t459 + t108 + t282);
  t530 = t17 * (t243 * t15 + t291 + t292) + t298;
  m(4,6) = t525 * t91 + t530 * t89;
  t551 = t55 * (t32 * (-t9 * t322 - t475) - t9 * t43 + t18 * (-t3 * t218 - t231) - t459 * t330) - (-t346 * t15 - t32 * t486) * t58;
  t558 = t55 * (t25 * t354 - t103 + t352 + t353 - t96) + t363 * t58;
  m(4,7) = t551 * t91 + t558 * t89;
  m(5,1) = 0.0e0;
  m(5,2) = -t493;
  m(5,3) = t11 * t32 * t89 + t35 * t375;
  m(5,4) = t248 * t25 * t91 + t502 * t89;
  m(5,5) = t513 * t89 - t517 * t91;
  m(5,6) = t525 * t89 - t530 * t91;
  m(5,7) = t551 * t89 - t558 * t91;
  m(6,1) = 0.0e0;
  m(6,2) = 0.0e0;
  m(6,3) = -t39;
  m(6,4) = -t11 * t25 * t32 - t21 * t35 * t9;
  t582 = -t456;
  m(6,5) = t35 * (-t15 * t21 * t25 + t18 * t511) + t582 * t193;
  m(6,6) = t35 * (t17 * t274 + t453) + (t17 * t18 * t582 + t284 * t3) * t32;
  m(6,7) = t35 * (t55 * t476 - (-t9 * t335 * t18 + t338 - t485) * t58) - t32 * (t55 * (-t17 * t284 + t134 + t135) + t488 * t15 * t58);
  tmpreturn = m;
