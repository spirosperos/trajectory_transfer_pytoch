#include <math.h>

template<typename Scalar> void hom_transform_endeffector (Scalar *q,const RobotParams& param, Scalar cgret[4][4])
{
  Scalar m[4][4];
  Scalar t1;
  Scalar t10;
  Scalar t101;
  Scalar t104;
  Scalar t107;
  Scalar t108;
  Scalar t109;
  Scalar t112;
  Scalar t116;
  Scalar t12;
  Scalar t13;
  Scalar t14;
  Scalar t149;
  Scalar t16;
  Scalar t17;
  Scalar t18;
  Scalar t180;
  Scalar t19;
  Scalar t2;
  Scalar t20;
  Scalar t21;
  Scalar t22;
  Scalar t24;
  Scalar t27;
  Scalar t28;
  Scalar t29;
  Scalar t3;
  Scalar t30;
  Scalar t31;
  Scalar t35;
  Scalar t36;
  Scalar t4;
  Scalar t40;
  Scalar t41;
  Scalar t44;
  Scalar t45;
  Scalar t47;
  Scalar t5;
  Scalar t50;
  Scalar t52;
  Scalar t57;
  Scalar t6;
  Scalar t62;
  Scalar t64;
  Scalar t66;
  Scalar t7;
  Scalar t72;
  Scalar t76;
  Scalar t77;
  Scalar t79;
  Scalar t80;
  Scalar t87;
  Scalar t9;
  Scalar t93;
  Scalar t95;
  Scalar t97;
  Scalar t98;
  m[0][0] = 0;
  m[0][1] = 0;
  m[0][2] = 0;
  m[0][3] = 0;
  m[1][0] = 0;
  m[1][1] = 0;
  m[1][2] = 0;
  m[1][3] = 0;
  m[2][0] = 0;
  m[2][1] = 0;
  m[2][2] = 0;
  m[2][3] = 0;
  m[3][0] = 0;
  m[3][1] = 0;
  m[3][2] = 0;
  m[3][3] = 0;
  t1 = q[6];
  t2 = cos(t1);
  t3 = q[7];
  t4 = cos(t3);
  t5 = t4 * t2;
  t6 = q[5];
  t7 = cos(t6);
  t9 = sin(t6);
  t10 = sin(t3);
  t12 = -t10 * t9 - t5 * t7;
  t13 = q[4];
  t14 = cos(t13);
  t16 = sin(t13);
  t17 = t16 * t4;
  t18 = sin(t1);
  t19 = t17 * t18;
  t20 = t12 * t14 + t19;
  t21 = q[3];
  t22 = cos(t21);
  t24 = sin(t21);
  t27 = t10 * t7 - t5 * t9;
  t28 = t27 * t24;
  t29 = t20 * t22 + t28;
  t30 = q[8];
  t31 = cos(t30);
  t35 = t16 * t2;
  t36 = t14 * t18 * t7 + t35;
  t40 = t18 * t24 * t9 + t22 * t36;
  t41 = sin(t30);
  t44 = q[2];
  t45 = cos(t44);
  t47 = sin(t44);
  t50 = -t12;
  t52 = t14 * t18 * t4 + t16 * t50;
  t57 = -t16 * t18 * t7 + t14 * t2;
  m[0][0] = t45 * (t29 * t31 + t40 * t41) + (t31 * t52 + t41 * t57) * t47;
  t62 = t14 * t50 - t19;
  t64 = t22 * t62 - t28;
  t66 = t31 * t40;
  t72 = t31 * t57 - t41 * t52;
  m[0][1] = t45 * (t41 * t64 + t66) + t47 * t72;
  t76 = t16 * t18;
  t77 = -t14 * t2 * t7 + t76;
  t79 = t24 * t2;
  t80 = t9 * t79;
  t87 = (-t14 * t22 * t9 + t24 * t7) * t4;
  t93 = t10 * (t14 * t18 + t35 * t7);
  t95 = -t17 * t9 + t93;
  m[0][2] = t45 * (t10 * (t22 * t77 - t80) - t87) + t47 * t95;
  t97 = param.d7 + param.d8;
  t98 = t10 * t97;
  t101 = t4 * t97 + param.d5 + param.d6;
  t104 = t101 * t14 * t22 - t79 * t98;
  t107 = -t77;
  t108 = t10 * t107;
  t109 = t108 * t97 * t22;
  t112 = t24 * (t101 * t7 + param.d3 + param.d4);
  t116 = t101 * t9;
  m[0][3] = t45 * (t104 * t9 - t109 - t112) - t116 * t16 * t47 + t93 * t97 * t47 + q[1];
  m[1][0] = t31 * (t45 * t52 + t47 * t64) - (t40 * t47 - t45 * t57) * t41;
  m[1][1] = t47 * (t29 * t41 - t66) + t45 * t72;
  m[1][2] = t47 * (t10 * (t107 * t22 + t80) + t87) + t45 * t95;
  m[1][3] = t47 * (-t104 * t9 + t109 + t112) - t116 * t16 * t45 + t93 * t97 * t45 + q[0] + param.day;
  t149 = -t27;
  m[2][0] = t31 * (-t149 * t22 + t24 * t62) - (-t18 * t22 * t9 + t24 * t36) * t41;
  m[2][1] = t24 * (t20 * t41 - t31 * t36) + (t18 * t31 * t9 + t149 * t41) * t22;
  m[2][2] = t24 * (-t14 * t4 * t9 + t108) - (t10 * t2 * t9 + t4 * t7) * t22;
  t180 = t10 * t2;
  m[2][3] = t22 * (t7 * (-t4 * t97 - param.d5 - param.d6) - t9 * t97 * t180 - param.d3 - param.d4) + t24 * (t14 * (t180 * t7 * t97 - t116) - t98 * t76) - param.d1 + param.daz + param.dbz - param.d2;
  m[3][0] = 0.0e0;
  m[3][1] = 0.0e0;
  m[3][2] = 0.0e0;
  m[3][3] = 0.1e1;
  cgret[0][0] = m[0][0];
  cgret[0][1] = m[0][1];
  cgret[0][2] = m[0][2];
  cgret[0][3] = m[0][3];
  cgret[1][0] = m[1][0];
  cgret[1][1] = m[1][1];
  cgret[1][2] = m[1][2];
  cgret[1][3] = m[1][3];
  cgret[2][0] = m[2][0];
  cgret[2][1] = m[2][1];
  cgret[2][2] = m[2][2];
  cgret[2][3] = m[2][3];
  cgret[3][0] = m[3][0];
  cgret[3][1] = m[3][1];
  cgret[3][2] = m[3][2];
  cgret[3][3] = m[3][3];
}
